<div>

    <ul class="flex space-x-2 rtl:space-x-reverse">
        <li>
            <a href="javascript:;" class="text-primary hover:underline">Cliente</a>
        </li>
        <li class="before:content-['/'] ltr:before:mr-2 rtl:before:ml-2">
            <span> {{ isEditMode ? 'Editar': 'Nuevo'}}</span>
        </li>
    </ul>
    <div class="mt-5 panel">
        <h5 class="mb-5 text-lg font-semibold dark:text-white-light">Formulario cliente</h5>
        <form class="space-y-5" [formGroup]="form" (ngSubmit)="onSubmit()">
            <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
                <div [ngClass]="validateField('nombre')">
                    <label for="nombre">Nombre</label>
                    <input id="nombre" type="text" formControlName="nombre" placeholder="Nombre completo" class="form-input" />
                    <small *ngIf="hasError('nombre', 'required')" class="text-danger">Este campo es obligatorio.</small>
                </div>

                <div [ngClass]="validateField('email')">
                    <label for="email">Email</label>
                    <input id="email" type="email" formControlName="email" placeholder="Correo electrónico" class="form-input" />
                    <small *ngIf="hasError('email', 'required')" class="text-danger">Campo requerido.</small>
                    <small *ngIf="hasError('email', 'email')" class="text-danger">Correo inválido.</small>
                </div>
            </div>

            <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
                <div [ngClass]="validateField('telefono')">
                    <label for="telefono">Teléfono</label>
                    <input id="telefono" type="text" formControlName="telefono" placeholder="Teléfono" class="form-input" />
                </div>

                <div [ngClass]="validateField('tipoDocumento')">
                    <label for="tipoDocumento">Tipo Documento</label>
                    <ng-select
                        [items]="tiposDocumentoReceptor"
                        formControlName="tipoDocumento"
                        [bindLabel]="'valor'"
                        [bindValue]="'codigo'"
                        [searchable]="true"
                        [clearable]="false"
                        placeholder="Seleccione tipo Documento"
                        [ngClass]="['custom-multiselect']"
                    ></ng-select>
                    <small *ngIf="hasError('tipoDocumento', 'required')" class="text-danger">Campo requerido.</small>
                </div>
            </div>

            <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
                <div [ngClass]="validateField('numDocumento')">
                    <label for="numDocumento">Número Documento</label>
                    <input id="numDocumento" type="text" formControlName="numDocumento" class="form-input" />
                </div>
                <div [ngClass]="validateField('nrc')">
                    <label for="nrc">NRC</label>
                    <input id="nrc" type="text" formControlName="nrc" class="form-input" />
                </div>
            </div>

            <div [ngClass]="validateField('direccion')">
                <label>Dirección</label>
                <input type="text" formControlName="direccion" class="form-input" />
            </div>

            <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
                <div [ngClass]="validateField('departamentoId')">
                    <label>Departamento</label>
                    <ng-select
                        [items]="cat012"
                        formControlName="departamentoId"
                        [bindLabel]="'valor'"
                        [bindValue]="'id'"
                        [searchable]="true"
                        [clearable]="false"
                        placeholder="Seleccione un departamento"
                        class="custom-multiselect"
                    ></ng-select>
                </div>
                <div [ngClass]="validateField('municipioId')">
                    <label>Municipio</label>
                    <ng-select
                        [items]="cat013"
                        formControlName="municipioId"
                        [bindLabel]="'valor'"
                        [bindValue]="'id'"
                        [searchable]="true"
                        [clearable]="false"
                        placeholder="Seleccione un municipio"
                        class="custom-multiselect"
                    ></ng-select>
                </div>
            </div>

            <div [ngClass]="validateField('actividadEconomicaIds')">
                <label>Actividades Económicas</label>
                <ng-select
                    [items]="actEconomica"
                    [multiple]="true"
                    formControlName="ClienteActividadEconomica"
                    [bindLabel]="'codigo'"
                    [bindValue]="'id'"
                    [searchable]="true"
                    [clearable]="false"
                    placeholder="Seleccione actividades"
                    class="custom-multiselect"
                >
                <ng-template ng-option-tmp let-actEconomica="item"> {{ actEconomica.codigo }} — {{ actEconomica.valor }} </ng-template>
                <ng-template ng-label-tmp let-actEconomica="item"> {{ actEconomica.codigo }} — {{ actEconomica.valor }} </ng-template>
            </ng-select>
            </div>

            <button type="submit" class="btn btn-primary !mt-6">Guardar</button>
        </form>
    </div>
</div>
